# 言語名

未定（〜-Basicがいいかも）

# 思想

- 初心者が学びやすいようなものにしたい
	- 実用的な言語にはしなくていい
	- Genericsみたいな高度な機能は要らない（というか作りたくない）
	- イテレータみたいな少し複雑な型は要らない（必要ならユーザーが実装する）
	- 別の言語を学ぶときとっつきやすくなるように既存の言語の文法をパクってくる
	- エラー文はとりあえず日本語で実装
	- 複数の書き方があると困惑すると思うのでできるだけ排除する
- ブラウザ上で動かせるようにしたい
	- 静的型付けインタプリタ言語がいいと思う

# 構成について
## 必要な文法

- [o] 変数定義
- [o] 定数定義
- [o] if文
- [ ] ~~switch文
- [ ] ~~enum
- [o] struct
- [ ] ~~for文
- [ ] ~~while文
- [o] loop文（Rustより）
- [o] 関数
- [ ] ~~class
- [ ] ~~interface
- [o] コメント

- whileとfor文はどちらもループするもので、使い分けが分からず悩む可能性あり
	- ループする文法でどういう挙動をするかがわかればいいと思うからbreak等で抜けるまで無限ループするRustのloop文のようなのがいいかも
- interfaceは高度なテクニックで使うので要らない
- classは実装がめんどくさそうだからナシ
- ifとswitchでswitchの殆どはifで代用可能なのでifのみ

## 型
- [ ] 文字型
- [o] 文字列型
- [o] 整数型
- [o] 浮動小数点型
- [o] 配列
- [o] 構造体
- [ ] 列挙型
- [ ] 連想配列
- [ ] 関数
- [o] bool型

- 関数を値として扱って渡すコールバック関数のようなテクニックは高度なので要らない
- 文字列と文字の区別はややこしくさせるので文字列型で統一
- 配列は使うだろうけど初心者が連想配列を使うような処理が思い浮かばないので要らない

## 構文
### 型の名前
```
int
float
str
bool
```

### コメント
```
/* コメント */

/*
複数行のコメント
*/
```

### 式
#### リテラル
```
/* 文字列リテラル */
"Hello World!"

/* 整数リテラル */
10

/* 浮動小数点リテラル */
10.0

/* 配列リテラル */
[ 1, 2, 3, 4 ]
[ "a", "b", "c", "d" ]

/* boolリテラル */
true
false
```

#### 演算
```
a + b 
a - b
a * b
a / b
a % b
```

#### 条件演算
```
a == b
a != b
a < b
a > b
```

#### 論理演算
```
a and b
a or b
not a
```

### 文
#### 変数定義
```
var x: int;
var y: string = "Hello World!";
```

#### 定数定義
```
const x: float = 3.14;
```

#### if文
```
if (/* 条件式 */) {
	/* 処理 */
}
else if (/* 条件式 */) {
	/* 処理 */
}
else {
	/* 処理 */
}
```

#### loop文
```
loop {
	continue;
	break;
}
```

#### 関数
```
function add(a: int, b: int) int {
	return a + b;
}

function hello_world() void {
	print("Hello World");
}
```

#### struct
```
struct Person {
	name: str,
	age: int,
}
```

# PEG
```peg

// ブロックの定義
Block <- '{' Statement* '}'

// 文の定義
Statement <- ExpressionStatement 
ExpressionStatement <- Expression ';'

// 式の定義
Expression <- Term (('+' / '-') Term)*
Term <- Factor (('*' / '/' / '%') Factor)*
Factor <- Literal / Identifier / '(' Expression ')'

// リテラルの定義
Literal <- Bool / Integer / Float
Float <- [0-9]+ '.' [0-9]+
Integer <- [0-9]+
Bool <- 'true' / 'false'

// 識別子の定義
Identifier <- [a-zA-Z_][a-zA-Z0-9_]*

// コメントの定義
Comment <- CommentBlock
CommentBlock <- '/*' (!'*/' .)* '*/'
```
